(function(a){a.fn.scrollLoad=function(e){var d,b={url:"",data:"",ScrollAfterHeight:90,onload:function(){},start:function(){},continueWhile:function(){return!0},getData:function(){return""},onstop:function(){},onrequest:function(){}},c;for(c in b)e[c]&&(b[c]=e[c]);return this.each(function(){this.scrolling=!1;this.scrollPrev=this.onscroll?this.onscroll:null;a(this).bind("scroll.scrollLoad",function(){this.scrollPrev&&this.scrollPrev();!this.scrolling&&Math.round(100*(a(this).scrollTop()/(a(this).prop("scrollHeight")-
a(this).prop("clientHeight"))))>b.ScrollAfterHeight&&(b.start.call(this,this),this.scrolling=!0,$this=a(this),d=a.ajax({url:b.url,data:b.getData.call(this,this),type:"post",success:function(a){d=null;$this[0].scrolling=!1;b.onload.call($this[0],a,$this[0]);b.continueWhile.call($this[0],a)||($this.unbind("scroll"),b.onstop.call())}}),b.onrequest.call(this,d))})})}})(jQuery);